<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book Singularity -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Releases | Singularity</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../../styles/website.css">
    

        
    
    
    <link rel="next" href="../../Docs/reference/upgrading-to-mesos-1.html" />
    
    
    <link rel="prev" href="../../Docs/development/basepom.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="4"
        data-chapter-title="Releases"
        data-filepath="Docs/releases/index.md"
        data-basepath="../.."
        data-revision="Mon Dec 04 2017 17:00:35 GMT-0500 (EST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" >
            
            <span><b>1.</b> About Singularity</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="Docs/about/how-it-works.html">
            
                
                    <a href="../../Docs/about/how-it-works.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        How It Works
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Docs/about/requests-and-deploys.html">
            
                
                    <a href="../../Docs/about/requests-and-deploys.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Requests and Deploys
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Docs/about/ui.html">
            
                
                    <a href="../../Docs/about/ui.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Singularity UI
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Docs/about/adopters.html">
            
                
                    <a href="../../Docs/about/adopters.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        Adopters
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" >
            
            <span><b>2.</b> Getting Started</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Docs/getting-started/try-it-out.html">
            
                
                    <a href="../../Docs/getting-started/try-it-out.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Try It Out
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Docs/getting-started/install.html">
            
                
                    <a href="../../Docs/getting-started/install.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Install
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Docs/getting-started/basic-examples.html">
            
                
                    <a href="../../Docs/getting-started/basic-examples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Examples
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> Developing</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Docs/development/developing-with-docker.html">
            
                
                    <a href="../../Docs/development/developing-with-docker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Developing Using Docker
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Docs/development/ui.html">
            
                
                    <a href="../../Docs/development/ui.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        UI
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Docs/development/load-balancer-integration.html">
            
                
                    <a href="../../Docs/development/load-balancer-integration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Load Balancer Integration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="Docs/development/basepom.html">
            
                
                    <a href="../../Docs/development/basepom.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Basepom
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="4" data-path="Docs/releases/index.html">
            
                
                    <a href="../../Docs/releases/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Releases
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Docs/reference/upgrading-to-mesos-1.html">
            
                
                    <a href="../../Docs/reference/upgrading-to-mesos-1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Upgrading to Mesos 1.x
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" >
            
            <span><b>5.</b> Feature Docs</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Docs/features/custom-ports.html">
            
                
                    <a href="../../Docs/features/custom-ports.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Choosing Custom Ports
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Docs/features/expiring-actions.html">
            
                
                    <a href="../../Docs/features/expiring-actions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Expiring Actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="Docs/features/shell-commands.html">
            
                
                    <a href="../../Docs/features/shell-commands.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Shell Commands
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="Docs/features/task-search.html">
            
                
                    <a href="../../Docs/features/task-search.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Task Search
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="Docs/features/incremental-deploys.html">
            
                
                    <a href="../../Docs/features/incremental-deploys.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Incremental Deploys
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="Docs/features/disaster-detection.html">
            
                
                    <a href="../../Docs/features/disaster-detection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        Disaster Detection &amp; Disabled Actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="Docs/features/cluster-coordinator.html">
            
                
                    <a href="../../Docs/features/cluster-coordinator.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        Cluster Coordinator
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="Docs/features/mesos-1.html">
            
                
                    <a href="../../Docs/features/mesos-1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Upgrading to Mesos 1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="Docs/features/auth.html">
            
                
                    <a href="../../Docs/features/auth.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.9.</b>
                        
                        Authentication and Authorization
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" >
            
            <span><b>6.</b> Reference</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Docs/reference/configuration.html">
            
                
                    <a href="../../Docs/reference/configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="Docs/reference/container-options.html">
            
                
                    <a href="../../Docs/reference/container-options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Container Options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="Docs/reference/database.html">
            
                
                    <a href="../../Docs/reference/database.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Database
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="Docs/reference/webhooks.html">
            
                
                    <a href="../../Docs/reference/webhooks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Webhooks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="Docs/reference/slave-extras.html">
            
                
                    <a href="../../Docs/reference/slave-extras.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        Slave Extras
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="Docs/reference/deploy-defaults.html">
            
                
                    <a href="../../Docs/reference/deploy-defaults.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                        Deploy Defaults
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="Docs/reference/healthchecks.html">
            
                
                    <a href="../../Docs/reference/healthchecks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                        Health Checks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="Docs/reference/apidocs/api-index.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                        API
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.8.1" data-path="Docs/reference/apidocs/api-sandbox.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-sandbox.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.1.</b>
                        
                        /api/sandbox
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.2" data-path="Docs/reference/apidocs/api-slaves.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-slaves.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.2.</b>
                        
                        /api/slaves
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.3" data-path="Docs/reference/apidocs/api-history.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-history.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.3.</b>
                        
                        /api/history
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.4" data-path="Docs/reference/apidocs/api-state.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-state.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.4.</b>
                        
                        /api/state
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.5" data-path="Docs/reference/apidocs/api-logs.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-logs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.5.</b>
                        
                        /api/logs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.6" data-path="Docs/reference/apidocs/api-tasks.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-tasks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.6.</b>
                        
                        /api/tasks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.7" data-path="Docs/reference/apidocs/api-test.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-test.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.7.</b>
                        
                        /api/test
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.8" data-path="Docs/reference/apidocs/api-webhooks.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-webhooks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.8.</b>
                        
                        /api/webhooks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.9" data-path="Docs/reference/apidocs/api-racks.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-racks.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.9.</b>
                        
                        /api/racks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.10" data-path="Docs/reference/apidocs/api-requests.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-requests.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.10.</b>
                        
                        /api/requests
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.11" data-path="Docs/reference/apidocs/api-groups.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-groups.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.11.</b>
                        
                        /api/groups
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.12" data-path="Docs/reference/apidocs/api-deploys.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-deploys.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.12.</b>
                        
                        /api/deploys
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.13" data-path="Docs/reference/apidocs/api-disasters.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-disasters.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.13.</b>
                        
                        /api/disasters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.14" data-path="Docs/reference/apidocs/api-priority.html">
            
                
                    <a href="../../Docs/reference/apidocs/api-priority.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.14.</b>
                        
                        /api/priority
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8.15" data-path="Docs/reference/apidocs/models.html">
            
                
                    <a href="../../Docs/reference/apidocs/models.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.15.</b>
                        
                        Models
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Singularity</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="releases">Releases</h1>
<ul>
<li><a href="#changes-in-0182">Changes in 0.18.2</a></li>
<li><a href="#changes-in-0181">Changes in 0.18.1</a></li>
<li><a href="#changes-in-0180">Changes in 0.18.0</a></li>
<li><a href="#changes-in-0170">Changes in 0.17.0</a></li>
<li><a href="#changes-in-0162">Changes in 0.16.2</a></li>
<li><a href="#changes-in-0161">Changes in 0.16.1</a></li>
<li><a href="#changes-in-0160">Changes in 0.16.0</a></li>
<li><a href="#changes-in-0151">Changes in 0.15.1</a></li>
<li><a href="#changes-in-0150">Changes in 0.15.0</a></li>
<li><a href="#changes-in-0141">Changes in 0.14.1</a></li>
<li><a href="#changes-in-0140">Changes in 0.14.0</a></li>
<li><a href="#changes-in-0130">Changes in 0.13.0</a></li>
<li><a href="#changes-in-0120">Changes in 0.12.0</a></li>
<li><a href="#changes-in-0110">Changes in 0.11.0</a></li>
<li><a href="#changes-in-0101">Changes in 0.10.1</a></li>
<li><a href="#changes-in-0100">Changes in 0.10.0</a></li>
<li><a href="#changes-in-090">Changes in 0.9.0</a></li>
<li><a href="#changes-in-080">Changes in 0.8.0</a></li>
<li><a href="#changes-in-071">Changes in 0.7.1</a></li>
<li><a href="#changes-in-070">Changes in 0.7.0</a></li>
<li><a href="#changes-in-062">Changes in 0.6.2</a></li>
<li><a href="#changes-in-061">Changes in 0.6.1</a></li>
<li><a href="#changes-in-060">Changes in 0.6.0</a></li>
<li><a href="#changes-in-050">Changes in 0.5.0</a></li>
<li><a href="#changes-in-0411">Changes in 0.4.11</a></li>
<li><a href="#changes-in-0410">Changes in 0.4.10</a></li>
<li><a href="#changes-in-049">Changes in 0.4.9</a></li>
<li><a href="#changes-in-048">Changes in 0.4.8</a></li>
<li><a href="#changes-in-047">Changes in 0.4.7</a></li>
<li><a href="#changes-in-046">Changes in 0.4.6</a></li>
<li><a href="#changes-in-045">Changes in 0.4.5</a></li>
</ul>
<h2 id="changes-in-0182">Changes in <code>0.18.2</code></h2>
<p><strong><em>This is a bugfix release</em></strong></p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/milestone/34?closed=1" target="_blank">0.18.2 milestone</a> to see new features / bugfixes in detail.</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1671" target="_blank">1671</a> - Remove SingularityServiceBase module, no longer needed</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1674" target="_blank">1674</a> - Different order for ui build profile</li>
</ul>
<hr>
<h2 id="changes-in-0181">Changes in <code>0.18.1</code></h2>
<p><strong><em>This is a bugfix release</em></strong></p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/milestone/33?closed=1" target="_blank">0.18.1 milestone</a> to see bugfixes in detail.</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1663" target="_blank">1663</a> - Reimplement getPortByIndex in SingularityTask</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1664" target="_blank">1664</a> - Add REASON_AGENT status update reasons</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1661" target="_blank">1661</a> - Enable auth headers in old tailer</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1655" target="_blank">1655</a> - Easier setup for local dev with SingularityService</li>
</ul>
<hr>
<h2 id="changes-in-0180">Changes in <code>0.18.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A%0.18.0+is%3Aclosed" target="_blank">0.18.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="mesos-1">Mesos 1</h3>
<p>The release of Singularity 0.18.0 marks an update to mesos <code>1.x</code>. Singularity will now utilize the mesos http api when connecting to mesos (native libraries no longer need to be present for Singularity to run). <strong><em>Configuration changes for Singularity Service are needed when upgrading</em></strong> so be sure to check out the <a href="../features/mesos-1.html">upgrading to mesos 1 docs</a>.</p>
<h3 id="new-featuresupdates">New Features/Updates</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1571" target="_blank">1571</a> - Mesos 1.1.2</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1648" target="_blank">1648</a> - Remove mesos dependency from SingularityBase</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1631" target="_blank">1631</a> - Support subdirectories in the s3 uploader</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1618" target="_blank">1618</a> - Pass resource overrides to environment.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1626" target="_blank">1626</a> - Expose instance counts for singularity requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1629" target="_blank">1629</a> - Add shell commands to the client</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1633" target="_blank">1633</a> - Make the leniency of OPTIMISTIC tunable.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1599" target="_blank">1599</a> - Add logrotateFrequency field in new deploy form</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1647" target="_blank">1647</a> - S3 Folders UI display</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1628" target="_blank">1628</a> - Preserve instance id order when scaling down</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1634" target="_blank">1634</a> - Catch errors in FetchRequestArgHistory</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1625" target="_blank">1625</a> - Fixes to latest log file link</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1630" target="_blank">1630</a> - Mesos backpressure</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1621" target="_blank">1621</a> - look at new scale request before opting to old request</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1642" target="_blank">1642</a> - Shade protobuf for SingularityClient/SingularityBase</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1649" target="_blank">1649</a> - Don&apos;t error when ArtifactManager copies duplicate files </li>
</ul>
<hr>
<h2 id="changes-in-0170">Changes in <code>0.17.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.17.0%20is%3Aclosed%20" target="_blank">0.17.0 milestone</a> to see new features / bugfixes in detail.</p>
<p><strong>Note</strong>: Mesos 1.1.x support didn&apos;t quite make it into this release, but those changes are coming soon. In the meantime, here are the new features in Singularity 0.17.0.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1592" target="_blank">1592</a> - Resource Usage UI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1576" target="_blank">1576</a> - Evenly-spread task placement</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1570" target="_blank">1570</a> - resource usage endpoint</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1610" target="_blank">1610</a> - Highlight new files</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1583" target="_blank">1583</a> - Track average scheduling delay when accepting tasks.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1578" target="_blank">1578</a> - Allow WORKER &lt;-&gt; SERVICE type change if not load balanced</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1586" target="_blank">1586</a> - Refactor tailer instance selection dropdown</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1615" target="_blank">1615</a> - Add visibility around getChildren() calls.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1597" target="_blank">1597</a> - Also relocate guava-retrying in SingularityClient</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1598" target="_blank">1598</a> - timestampSeconds -&gt; timestamp in statistics object</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1594" target="_blank">1594</a> - Leader cache everywhere</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1590" target="_blank">1590</a> - package.json tune-up</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1603" target="_blank">1603</a> - Reorganize request group view</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1611" target="_blank">1611</a> - Add request group filter</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1608" target="_blank">1608</a> - Add Nitro as adopter</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1591" target="_blank">1591</a> - Fix flaky testSchedulerPriority test</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1593" target="_blank">1593</a> - More flaky tests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1588" target="_blank">1588</a> - Force Guava cache maintenance before processing cached offers.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1587" target="_blank">1587</a> - Fix key error on requests page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1595" target="_blank">1595</a> - Only write to the leader cache when it&apos;s active.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1614" target="_blank">1614</a> - Fix cron length validation when creating new requests.</li>
</ul>
<h3 id="thanks">Thanks</h3>
<ul>
<li>@ssalinas</li>
<li>@darcatron</li>
<li>@kwm4385</li>
</ul>
<hr>
<h2 id="changes-in-0162">Changes in <code>0.16.2</code></h2>
<p><strong><em>This is a bug fix release!</em></strong></p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.16.2+is%3Aclosed" target="_blank">0.16.2 milestone</a> to see pull requests in detail.</p>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1605" target="_blank">1605</a> - Deploy IDs should allow &apos;.&apos;</li>
</ul>
<hr>
<h2 id="changes-in-0161">Changes in <code>0.16.1</code></h2>
<p><strong><em>This is a bugfix release</em></strong></p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A%0.16.1+is%3Aclosed" target="_blank">0.16.1 milestone</a> to see new features / bugfixes in detail.</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1580" target="_blank">1580</a> - Fix mapping of docker fields in &apos;new deploy&apos; ui</li>
</ul>
<hr>
<h2 id="changes-in-0160">Changes in <code>0.16.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A%0.16.0+is%3Aclosed" target="_blank">0.16.0 milestone</a> to see new features / bugfixes in detail.</p>
<p><strong><em>Important</em></strong></p>
<p>The next release of Singularity (<code>0.17.0</code>) will contain a bump to mesos 1.1.2. Any critical bug fixes will be backported to <code>0.16</code> for a short period. See <a href="https://github.com/HubSpot/Singularity/pull/1571" target="_blank">#1571</a> for more details on the upcoming upgrade</p>
<h3 id="new-endpoints">New Endpoints</h3>
<p><a href="https://github.com/HubSpot/Singularity/pull/1559" target="_blank">1559</a> Added two additional endpoints to more easily track the lifecyle of a task. Both endpoints return a <code>SingularityTaskState</code> object with basic details about the current state of the task</p>
<ul>
<li><code>/track/task/{taskId}</code> - for tracking active tasks which have already been assigned an id</li>
<li><code>/track/run/{requestId}/{runId}</code> - For tracking tasks by <code>runId</code> (e.g. an <code>ON_DEMAND</code> task). This endpoint can also search pending tasks</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1560" target="_blank">1560</a> - Separate timeouts for health check and task running</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1568" target="_blank">1568</a> - Better bash escaping in docker runner script</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1515" target="_blank">1515</a> - Add flag to trigger run of scheduled task on deploy</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1561" target="_blank">1561</a> - Combine offers to schedule tasks more efficiently</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1562" target="_blank">1562</a> - Retry failed client requests in SingularityClient</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1538" target="_blank">1538</a> - Allow immediate runs in pending queue with deploy</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1482" target="_blank">1482</a> - Better task balancing</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1557" target="_blank">1557</a> - Immediate uploads on executor teardown</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1555" target="_blank">1555</a> - Tailer improvements for tail_of_finished logs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1549" target="_blank">1549</a> - Baragon 0.5.0</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1526" target="_blank">1526</a> - Add skip lb removal flag to DeleteRequestRequest</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1534" target="_blank">1534</a> - Upgrade docker client</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1533" target="_blank">1533</a> - Add mark as active/inactive endpoints to client</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1524" target="_blank">1524</a> - Easy endpoint to check if user is authorized for request</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1572" target="_blank">1572</a> - Fix bug when &apos;maxTotalHealthcheckTimeout&apos; set</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1575" target="_blank">1575</a> - Clarify expected runtime, add execution time limit in ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1569" target="_blank">1569</a> - Remove extra scheduled entries from pending queue</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1564" target="_blank">1564</a> - Fix values for the container type field so they deserialize properly.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1553" target="_blank">1553</a> - Release lock on bounce when bounced with no running instances</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1554" target="_blank">1554</a> - Refuse to add cleaning tasks to LB</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1556" target="_blank">1556</a> - Catch 404s when there is no task history in run now modal</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1535" target="_blank">1535</a> - Ensure path is set on read endpoint</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1491" target="_blank">1491</a> - Fix maxDeployIdSize and maxRequestIdSize validation</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1567" target="_blank">1567</a> - Changes to SMTP documentation &amp; connection</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1548" target="_blank">1548</a> - Fix markdown formatting</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1528" target="_blank">1528</a> - Rephrase flagging host</li>
</ul>
<hr>
<h2 id="changes-in-0151">Changes in <code>0.15.1</code></h2>
<p>This is a bug fix release!</p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A%0.15.1+is%3Aclosed" target="_blank">0.15.1 milestone</a> to see updates in detail.</p>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1520" target="_blank">1520</a> - Fix for request stuck in deleting state</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1529" target="_blank">1529</a> - Default cacheOffers to false and add docs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1530" target="_blank">1530</a> - Fix for Optional request bodies</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1527" target="_blank">1527</a> - Typo in documentation</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1531" target="_blank">1531</a> - Bump version numbers in documentation</li>
</ul>
<hr>
<h2 id="changes-in-0150">Changes in <code>0.15.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A%0.15.0+is%3Aclosed" target="_blank">0.15.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1519" target="_blank">1519</a> - Spread to all slaves</li>
</ul>
<p>Adds a best effort attempt to deploy a task on all slaves. You can enable this by adding <code>spreadAllSlavesEnabled: true</code> to your Singularity yaml file. You can then set <code>SPREAD_ALL_SLAVES</code> for the <code>placementStrategy</code> on a <code>SingularityRequest</code>.</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1405" target="_blank">1405</a> - Slave Usage Monitoring UI</li>
</ul>
<p>In the Admin drop-down on the UI, there is now a <code>Slave Usage</code> monitoring page. This page contains visualizations about resource usages amongst all the slaves. The circular progress meters display the percent of total resources utilized on all slaves. The resources (cpu and memory) heat map displays percentage utilized per slave.</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1456" target="_blank">1456</a> - Bump to java 8/Jersey 2/Dropwizard 1</li>
</ul>
<p>Singularity is now officially on java 8! As part of this upgrade we have also bumped some library versions. Most notably upgrading to Jersey 2 and Dropwizard 1</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1253" target="_blank">1253</a> - New Tailer</li>
</ul>
<p>The Singularity log tailer got a makeover to improve performance and memory usage. Currently you can still toggle between old and new tailer versions, but this will be removed in future releases.</p>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1516" target="_blank">1516</a> - Include deploy marker and oldest deploy step in state</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1517" target="_blank">1517</a> - More flexible match on filename from logrotate</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1511" target="_blank">1511</a> - Add ability to prefix all email subjects</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1489" target="_blank">1489</a> - Fix Task Search navigation and refresh</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1510" target="_blank">1510</a> - Add getTaskByRunIdForRequest to client</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1483" target="_blank">1483</a> - Switch not loaded to loading in first tailer screen</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1503" target="_blank">1503</a> - Don&apos;t show logs panel if task never running</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1486" target="_blank">1486</a> - Use web cache for api calls from ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1478" target="_blank">1478</a> - Add leader cache</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1481" target="_blank">1481</a> - Allow artifact list to be specified on deploys</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1507" target="_blank">1507</a> - Ability to provide HttpConfig for SingularityClient</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1499" target="_blank">1499</a> - Warn when removing a request with lb configs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1487" target="_blank">1487</a> - Add a message to the request history when scaling</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1474" target="_blank">1474</a> - Allow expensive endpoints to be disabled for non-admins</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1477" target="_blank">1477</a> - Better zk cleanup for removed requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1480" target="_blank">1480</a> - Put a limit on number of slaves to decommission at once</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1479" target="_blank">1479</a> - Reduce timeout on requests to task sandboxes</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1472" target="_blank">1472</a> - Add spacing line at the bottom of logs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1476" target="_blank">1476</a> - Better zk performance logging</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1475" target="_blank">1475</a> - Singularity scheduler lock logging</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1465" target="_blank">1465</a> - Pass job user as environment variable to task</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1473" target="_blank">1473</a> - More disabled actions for pollers</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1466" target="_blank">1466</a> - Add links between tailer versions</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1450" target="_blank">1450</a> - Allow new tabs from global search page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1452" target="_blank">1452</a> - Add a task credit system</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1400" target="_blank">1400</a> - Add slave and task usage tracking inside singularity ZK</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1447" target="_blank">1447</a> - Set an optional max number of active tasks for ON_DEMAND requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1442" target="_blank">1442</a> - Display previous overridden cleanups</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1451" target="_blank">1451</a> - Additional disaster actions</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1453" target="_blank">1453</a> - Remove the async status update queue</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1518" target="_blank">1518</a> - Be sure to close Graphite properly</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1505" target="_blank">1505</a> - Don&apos;t include cleaning tasks in instance count</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1513" target="_blank">1513</a> - Write files in subdirectories to splat path</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1504" target="_blank">1504</a> - Don&apos;t redirect until done fetching active tasks</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1502" target="_blank">1502</a> - MD5 is case insensitive</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1492" target="_blank">1492</a> - Correctly redirect in ui when no instances are found</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1498" target="_blank">1498</a> - Forbid health checks longer than kill time</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1501" target="_blank">1501</a> - Allow copying from the JSON button dialog</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1490" target="_blank">1490</a> - Mark as not bouncing if paused before bounce completes</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1470" target="_blank">1470</a> - Fix tailer when reloading file</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1469" target="_blank">1469</a> - Add jita access for updating readWriteAccessGroup</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1467" target="_blank">1467</a> - Fix task direct link to logs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1428" target="_blank">1428</a> - Prevent flapping slave from rejoining cluster</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1443" target="_blank">1443</a> - Ignore 404s for <code>/priority/freeze</code> endpoint</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1471" target="_blank">1471</a> - Add in a note about running singularity on docker for mac</li>
</ul>
<hr>
<h2 id="changes-in-0141">Changes in <code>0.14.1</code></h2>
<p>This is a bug fix release.</p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A%0.14.1+is%3Aclosed" target="_blank">0.14.1 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1458" target="_blank">1458</a> - Remove expiring scale on deploy finish</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1457" target="_blank">1457</a> - Don&apos;t allow multiple bounces for the same request</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1461" target="_blank">1461</a> - Interchange argument order in rootComponent</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1462" target="_blank">1462</a> - <code>extract</code> in mesos uri defaults to true, <code>executable</code> defaults to false</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1459" target="_blank">1459</a> - fix README formatting</li>
</ul>
<hr>
<h2 id="changes-in-0140">Changes in <code>0.14.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.14.0+is%3Aclosed" target="_blank">0.14.0 milestone</a> to see new features / bugfixes in detail.</p>
<h2 id="important">Important</h2>
<p>The next release of Singularity (<code>0.15.0</code>) will include an upgrade to java 8.</p>
<h2 id="configuration-changes">Configuration Changes</h2>
<p><a href="https://github.com/HubSpot/Singularity/pull/1391" target="_blank">#1391</a> include a rework of some of the S3 settings in Singularity. If you use the <code>SingularityExecutor</code> or <code>SingularityExecutorCleanup</code> modules and use the S3 upload features, you will need an update to your configuration. The fields for specifying which files to upload have been moved out of the <code>SingularityExecutor</code>. An example below shows all fields that would move.</p>
<p>Old Configuration (gets removed from <code>SingularityExecutor</code> and <code>SingularityExecutorCleanup</code> yaml files)</p>
<pre><code class="lang-yaml">executor:
  s3UploaderBucket: my-logs-bucket
  s3UploaderKeyPattern: &quot;%requestId/%Y/%m/%taskId_%index-%s-%filename&quot;
  s3UploaderAdditionalFiles:
    - access.log
  s3StorageClass: &quot;STANDARD_IA&quot;
  applyS3StorageClassAfterBytes: 75000
</code></pre>
<p>New Configuration (if not already present for use with S3 log searching)</p>
<pre><code class="lang-yaml"># in SingularityExecutorCleanup yaml configuration
executorCleanup:
  defaultS3Bucket: my-logs-bucket
  s3KeyFormat: &quot;%requestId/%Y/%m/%taskId_%index-%s-%filename&quot;
  s3StorageClass: &quot;STANDARD_IA&quot;
  applyS3StorageClassAfterBytes: 75000
  s3UploaderAdditionalFiles:
   - filename: access.log
     # The default directory in the executor was set to &apos;logs&apos;, now it must be manually specified
     # If not specified, the directory to search for log files will be the task app directory in the sandbox
     directory: logs

# in SingularityService yaml configuration
s3:
  s3Bucket: my-logs-bucket
  s3KeyFormat: &quot;%requestId/%Y/%m/%taskId_%index-%s-%filename&quot;
  s3StorageClass: &quot;STANDARD_IA&quot;
  applyS3StorageClassAfterBytes: 75000
  s3UploaderAdditionalFiles:
   - filename: access.log
     # The default directory in the executor was set to &apos;logs&apos;, now it must be manually specified
     # If not specified, the directory to search for log files will be the task app directory in the sandbox
     directory: logs
</code></pre>
<p><strong>NOTE</strong> - To upgrade smoothly, it is strongly recommended to deploy <code>SingularityService</code> and the <code>SingularityExecutorCleanup</code> <em>before</em> deploying the <code>SingularityExecutor</code></p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1306" target="_blank">1306</a> - Smarter Healthchecks</li>
</ul>
<p>Singularity healthchecks are now split into two phases. Previous settings will continue to function but are deprecated. Health check options are now specified in the <a href="../reference/apidocs/models.html#model-HealthcheckOptions"><code>healthcheck</code> object</a> on the <code>SingularityDeploy</code> See <a href="../reference/healthchecks.html">The new documentation</a> for more on updates to healthchecks.</p>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1435" target="_blank">1435</a> - Updated mysql index on startedAt</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1449" target="_blank">1449</a> - Improve status logging</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1434" target="_blank">1434</a> - Match mesos artifact defaults</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1424" target="_blank">1424</a> - Rename metric for immediate uploaders</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1427" target="_blank">1427</a> - Ability to specify params on request history in client</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1429" target="_blank">1429</a> - Standardize on toString/hash/equals formats</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1402" target="_blank">1402</a> - Introduce offer cache to allow better resource allocation</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1399" target="_blank">1399</a> - Add ability to upload files immediately to S3</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1417" target="_blank">1417</a> - Ability to specify cache on mesos artifact</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1377" target="_blank">1377</a> - Report currentActiveInstances on SingularityDeployProgress</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1410" target="_blank">1410</a> - Use an ldap cache</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1414" target="_blank">1414</a> - Add style to change display of overflow text in run now dialog</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1415" target="_blank">1415</a> - Replace existing global search with search from requests page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1411" target="_blank">1411</a> - Logging clean up for mesos protos</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1334" target="_blank">1334</a> - Sanitize file data before parsing with Jackson</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1386" target="_blank">1386</a> - Add a DELETEING state for reqeusts being deleted</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1388" target="_blank">1388</a> - send graphite datapoints with optional tags</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1391" target="_blank">1391</a> - S3 Search Improvements</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1401" target="_blank">1401</a> - Ability to override docker workdir</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1398" target="_blank">1398</a> - Clarifications on S3ArtifactSignature</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1376" target="_blank">1376</a> - Update request for &apos;deploy to unpause&apos; before saving pending deploy</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1397" target="_blank">1397</a> - Shade com.google.thirdparty</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1375" target="_blank">1375</a> - Allow setting S3 storage class at upload time</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1373" target="_blank">1373</a> - customizable --use-compress-program for tar</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1392" target="_blank">1392</a> - Optionally skip addition of extra s3 metadata</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1382" target="_blank">1382</a> - Add maxTasksPerOffer at request level</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1367" target="_blank">1367</a> - Additional settings for history purger</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1360" target="_blank">1360</a> - Bounce updates for placement and scaling</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1369" target="_blank">1369</a> - Additional threshold for deleting task history row data in sql</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1437" target="_blank">1437</a> - Defer loading log files till after page load</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1445" target="_blank">1445</a> - use implicit acks when not offloading status updates to another thread</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1433" target="_blank">1433</a> - Properly roll back from an overdue incremental deploy</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1426" target="_blank">1426</a> - Prevent building duplicate immediate uploaders</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1412" target="_blank">1412</a> - fix duplicate exit checker, add longer initial task wait</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1423" target="_blank">1423</a> - Update docker parameters on deploy form</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1409" target="_blank">1409</a> - Properly allow destroy task from ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1407" target="_blank">1407</a> - Forbid more characters from request/deploy IDs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1418" target="_blank">1418</a> - Fixes for Immediate Uploaders</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1403" target="_blank">1403</a> - Import formModal on racks page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1371" target="_blank">1371</a> - S3Downlaoder - Block on download only</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1387" target="_blank">1387</a> - No retry for scheduled tasks run on-demand through UI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1380" target="_blank">1380</a> - Remove compressed log viewing endpoint</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1381" target="_blank">1381</a> - remove all compressed log viewing code</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1372" target="_blank">1372</a> - Update wrapper script for shell commands to read correct pid</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1368" target="_blank">1368</a> - Read group from task data if present</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1365" target="_blank">1365</a> - Fix PATH in API annotations</li>
</ul>
<hr>
<h2 id="changes-in-0130">Changes in <code>0.13.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.13.0+is%3Aclosed" target="_blank">0.13.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<p><em><a href="https://github.com/HubSpot/Singularity/pull/1342" target="_blank">1342</a> - Introduce expiring machine state changes</em></p>
<p>On the <code>Slaves</code> and <code>Racks</code> pages in the UI, there is now an <code>Expiration</code> field present when initiating a state change. When a duration is specified here, the slave or rack will revert to the specified state after time has elapsed. Note that if another state change takes place before the expiration time, the expiration will only remain active if the resulting state transition is still valid.</p>
<p>For example, if decommissioning a slave with an expiration of 1 minute, with a <code>evertToState</code> of <code>ACTIVE</code>, it is possible the slave will finish decommissioning in that time. So, it&apos;s state would change from <code>DECOMMISSIONING</code> to <code>DECOMMISSIONED</code>. In this case, the expiring action will remain active, because <code>DECOMMISSIONED</code> -&gt; <code>ACTIVE</code> is still a valid state change.</p>
<p><em><a href="https://github.com/HubSpot/Singularity/pull/1219" target="_blank">1219</a> - Starred requests persistence</em></p>
<p>User settings (so far only starred requests) are now stored server-side instead of client-side in <code>localStorage</code>. If a username is not found, you will be prompted for a username when you first load the ui. Any starred requests you currently have in <code>localStorage</code> will automatically be migrated to the server-side storage.</p>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1355" target="_blank">1355</a> - Update uuid to version 3.0.0</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1352" target="_blank">1352</a> - Check isEmpty on attributes for more accurate message</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1354" target="_blank">1354</a> - Count losts tasks with a Meter</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1347" target="_blank">1347</a> - Nicer format for disaster email</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1259" target="_blank">1259</a> - Alternate compression formats and viewing compressed files in UI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1348" target="_blank">1348</a> - Add tests for SingularityUI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1344" target="_blank">1344</a> - Also grab containerId when grabbing directory</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1353" target="_blank">1353</a> - To string fix for Deploy and Builder</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1351" target="_blank">1351</a> - Only allow patch versions of webpack</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1349" target="_blank">1349</a> - Fixes for run now dialog</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1345" target="_blank">1345</a> - Fix when bounce alert banner is shown</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1341" target="_blank">1341</a> - Fix custom executor command on new deploy page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1343" target="_blank">1343</a> - Fix js TypeError on task detail page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1332" target="_blank">1332</a> - Ensure quotes and new lines are escaped in echo</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1350" target="_blank">1350</a> - Docs updates and addition of missing swagger annotations</li>
</ul>
<hr>
<h2 id="changes-in-0120">Changes in <code>0.12.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.12.0+is%3Aclosed" target="_blank">0.12.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="migrations">Migrations</h3>
<p><a href="https://github.com/HubSpot/Singularity/pull/#1283" target="_blank">#1283</a> (Change deployHistory bytes to a MEDIUMBLOB), <a href="https://github.com/HubSpot/Singularity/pull/#1316" target="_blank">#1316</a> (Expand requestHistory.createdAt column to millisecond precision), and <a href="https://github.com/HubSpot/Singularity/pull/#1319" target="_blank">#1319</a> (Make the history purger query more efficient), contain migrations.</p>
<p>If you have a large number of tasks in your database (e.g. more than 100k), it is possible that the last of these migrations (<a href="https://github.com/HubSpot/Singularity/pull/#1319" target="_blank">#1319</a>) could be very slow when run via liquibase. If this is a concern, we recommend using <a href="https://www.percona.com/doc/percona-toolkit/2.1/pt-online-schema-change.html" target="_blank">pt-online-schema-change</a> to run your migration.</p>
<p>In order to run your migration with <code>pt-online-schema-change</code>, the following command is equal to liquibase migration <code>14</code>.</p>
<pre><code>pt-online-schema-change \
  --user=(your db user) \
  --ask-pass \
  --alter &quot;ADD COLUMN purged BOOLEAN NOT NULL DEFAULT false, ADD KEY purged (requestId, purged, updatedAt)&quot; \
  --execute \
  D=(your database name),t=taskHistory
</code></pre><h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1135" target="_blank">#1135</a> Surface taskReconciliationStartedAt in SingularityState object</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1217" target="_blank">#1217</a> Request group level actions in the ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1221" target="_blank">#1221</a> Get count of results for blended history calls</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1226" target="_blank">#1226</a> Ability to have multiple readWrite groups</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1227" target="_blank">#1227</a> Ability to redeploy from the ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1244" target="_blank">#1244</a> Add team requests to dashboard</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1264" target="_blank">#1264</a> Execution timeout for tasks</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1268" target="_blank">#1268</a> Process status updates in separate thread</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1284" target="_blank">#1284</a> Show launching tasks separate from active in status</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1290" target="_blank">#1290</a> More thorough validation for scale changes</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1291" target="_blank">#1291</a> Better messages for sentry reporting</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1293" target="_blank">#1293</a> Cache files with md5, add more detail for cache misses</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1295" target="_blank">#1295</a> Clean up tests + make travis build more reliable</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1298" target="_blank">#1298</a> Updates to slave information and reconciling slaves</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1301" target="_blank">#1301</a> Add readWriteGroups to request form ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1304" target="_blank">#1304</a> More even distribution among racks</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1308" target="_blank">#1308</a> Get the SingularityClient up to date</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1310" target="_blank">#1310</a> Shortcut to task by instance number in ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1314" target="_blank">#1314</a> Add global read only groups</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1315" target="_blank">#1315</a> Ability to search task history by runId</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1320" target="_blank">#1320</a> Ability to run shell command before killing task</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1324" target="_blank">#1324</a> Extra filtering on fuzzy match</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1325" target="_blank">#1325</a> Refresh task lists appropriately</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1330" target="_blank">#1330</a> Show dropdown of previous command line args in run-now modal</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1333" target="_blank">#1333</a> Remove OOMKiller and LogWatcher Modules</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1338" target="_blank">#1338</a> Surface SingularityPendingRequestParent response from SingularityClient.runSingularityRequest</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1278" target="_blank">#1278</a> Only send email if the list of active disasters has changed</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1281" target="_blank">#1281</a> Make critical task lag require more than a single overdue task</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1282" target="_blank">#1282</a> Fix finished log link</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1289" target="_blank">#1289</a> Don&apos;t rely on Singularity active requests list when searching historical logs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1294" target="_blank">#1294</a> Fix shell command modal file watching</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1297" target="_blank">#1297</a> Don&apos;t show loading forever on empty log files</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1303" target="_blank">#1303</a> Consider tasks with skipped healthchecks in cleaner</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1311" target="_blank">#1311</a> Add pending request on failed deploy as well</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1317" target="_blank">#1317</a> Use saveTaskCleanup() instead of createTaskCleanup() for deploys</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1321" target="_blank">#1321</a> Make deleteTaskHistoryBytes property do what it says it does</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1326" target="_blank">#1326</a> Fix js TypeError on task detail page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1328" target="_blank">#1328</a> Fix props and prop types in disasters page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1331" target="_blank">#1331</a> Make task destroy work from the ui</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/#1285" target="_blank">#1285</a> Add versions in readme</li>
</ul>
<hr>
<h2 id="changes-in-0110">Changes in <code>0.11.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.11.0+is%3Aclosed" target="_blank">0.11.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1247" target="_blank">#1247</a>/<a href="https://github.com/HubSpot/Singularity/pull/1230" target="_blank">#1230</a> - Disaster Detection and disabled actions. See <a href="../features/dissater-detection">the disaster detection docs</a> for more info.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1052" target="_blank">#1052</a> - Ability to kill tasks below a certain priority level</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1272" target="_blank">#1272</a> - Show seconds in timestamps for healthchecks </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1271" target="_blank">#1271</a> - Update files not found message</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1262" target="_blank">#1262</a> - Support for setting user in default executor</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1248" target="_blank">#1248</a> - Reorganize task label colors</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1240" target="_blank">#1240</a> - Also allow DELETE/PUT when using CORS filter </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1137" target="_blank">#1137</a> - SingularityService configuration &amp; DC/OS support</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1197" target="_blank">#1197</a> - Guarantee durationMillis is present in getExpiringBounce response</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1191" target="_blank">#1191</a> - Support for task id var substitution in env</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1169" target="_blank">#1169</a> - Support multiple docker parameters and task labels </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1100" target="_blank">#1100</a> - Add method for grabbing a snapshot of the master metrics to MesosClient </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1091" target="_blank">#1091</a> - Support overriding the log level in tests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1033" target="_blank">#1033</a> - Support task history search on updatedAt</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1130" target="_blank">#1030</a> - Introduce the concept of a SingularityRequestGroup</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1273" target="_blank">#1273</a> - Resolve the correct log path based on taskAppDirectory </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1267" target="_blank">#1267</a> - Remove bogus label from file browser actions column</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1266" target="_blank">#1266</a> - Select the correct healthcheck for UI alert banner</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1263" target="_blank">#1263</a> - Undo click-to-copy changes </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1256" target="_blank">#1256</a> - Fix typo in task alerts </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1252" target="_blank">#1252</a> - Fix for negative durations</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1246" target="_blank">#1246</a> - Make duration fields string inputs again</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1176" target="_blank">#1176</a> - Remove the now &gt; start check in RFC5545</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1265" target="_blank">#1265</a> - Update slave-extras.md</li>
</ul>
<hr>
<h2 id="changes-in-0101">Changes in <code>0.10.1</code></h2>
<p>This is a bug fix release.</p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.10.1+is%3Aclosed" target="_blank">0.10.1 milestone</a> to see bugfixes in detail.</p>
<h3 id="ui-fixes">UI Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1235" target="_blank">#1235</a> Properly handle deleted requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1236" target="_blank">#1236</a> UI updates for default config setup. After the release of 0.10.0, several users reported being unable to navigate directly to a page of the Singularity UI. This was due to an unanticipated change in how URLs were routed in the Backbone to React migration. This has been fixed in 0.10.1.</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1238" target="_blank">#1238</a> Use the relative path for appRoot</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1234" target="_blank">#1234</a> Run now UI service restoration</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1239" target="_blank">#1239</a> Add href to nav items</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1242" target="_blank">#1242</a> Sort environment variables alphabetically</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1232" target="_blank">#1232</a> UI development docs Backbone/Coffeescript =&gt; es6/React/Redux</li>
</ul>
<h3 id="other-fixes-and-improvements">Other Fixes and Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1188" target="_blank">#1188</a> Sort task history updates by <code>ExtendedTaskState</code> enum ordinal, not timestamp </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1189" target="_blank">#1189</a> Better cleanup of incremental actions</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1194" target="_blank">#1194</a> Deploy failure messages for non-task-specific failures</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1212" target="_blank">#1212</a> Allow searching of logs for deleted requests</li>
</ul>
<hr>
<h2 id="changes-in-0100">Changes in <code>0.10.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.10.0+is%3Aclosed" target="_blank">0.10.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="ui-rewrite-backbonecoffeescript--reactreduxjs6">UI Rewrite (Backbone/Coffeescript -&gt; React/Redux/JS6)</h3>
<p>This rewrite was composed of a number of pull requests, but the consolidated diff can be seen in <a href="https://github.com/HubSpot/Singularity/pull/1077" target="_blank">#1077</a>. Other UI changes include:</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1195" target="_blank">#1195</a> - Request form improvements</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1223" target="_blank">#1223</a> - Tags input tweaks (for cmd line input) </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1192" target="_blank">#1192</a> - Code cleanliness improvements</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1225" target="_blank">#1225</a> - Fix the back button when navigating through files on the task detail page </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1211" target="_blank">#1211</a> - Render every row on dashboard tables </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1210" target="_blank">#1210</a> - Don&apos;t show the wait for replacement task option when killing tasks in certain request types </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1215" target="_blank">#1215</a> - Check for presence of promise before attempting to catch errors </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1207" target="_blank">#1207</a> - UI support for absent deploy field </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1209" target="_blank">#1209</a> - Name all the modals that don&apos;t already have a name </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1208" target="_blank">#1208</a> - Fix duration field overflowing modal in firefox </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1206" target="_blank">#1206</a> - Refresh the request detail page after performing actions </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1199" target="_blank">#1199</a> - Sentry support</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1200" target="_blank">#1200</a> - Aggregate Tailer fix </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1190" target="_blank">#1190</a> - Run now fixes</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1202" target="_blank">#1202</a> - Add case-sensitive paths plugin </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1196" target="_blank">#1196</a> - Request groups page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1164" target="_blank">#1164</a> - Request and Deploy Title Copy Link </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1178" target="_blank">#1178</a> - Replace dashes with underscores when searching for matching hosts </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1186" target="_blank">#1186</a> - Add ability to show task disk resource if configured to do so </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1182" target="_blank">#1182</a> - Add timezone field and kill dropdowns if there are less than 5 options </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1185" target="_blank">#1185</a> - Add JSON Button to the Racks and Slaves pages </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1179" target="_blank">#1179</a> - Handle 404 properly</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1158" target="_blank">#1158</a> - Fix the request detail page bounce messages </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1165" target="_blank">#1165</a> - Improvements to task search</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1156" target="_blank">#1156</a> - Truncate long tags; Hover trigger to show the whole thing </li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1170" target="_blank">#1170</a> - Add TASK_ID environment variable with the singularity task_id </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1150" target="_blank">#1150</a> - Add support for timezone field for scheduled requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1138" target="_blank">#1138</a> - Docker auth config in custom executor</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1006" target="_blank">#1006</a> - Changes to user requested task kills in custom executor </li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1184" target="_blank">#1184</a> - Fail differently if request data not present during deploy check </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1171" target="_blank">#1171</a> - Do not remove from LB if not yet added </li>
</ul>
<hr>
<h2 id="changes-in-090">Changes in <code>0.9.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.9.0+is%3Aclosed" target="_blank">0.9.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="configuration-changes-and-deprecations">Configuration Changes and Deprecations</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1000" target="_blank">#1000</a> Tweaks to s3UploaderAdditionalFiles <ul>
<li>The SingularityExecutor configuration field <code>s3UploaderAdditionalFiles</code>, now supports a <code>directory</code> field to specify the directory to search for files to upload. However, the default for this directory is now the task directory (created when using SingularityExecutor), previously it was the <code>logs</code> directory within the task directory. To mimic previous behavior add a <code>directory</code> of <code>logs</code> to any existing <code>s3UploaderAdditionalFiles</code> settings.</li>
</ul>
</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1166" target="_blank">#1166</a> Change API path &quot;/skipHealthchecks&quot; to &quot;/skip-healthchecks&quot;<ul>
<li>The API path <code>/skipHealthchecks</code> has been renamed to <code>/skip-healthchecks</code> to be more consistent with the rest of the api and avoid using camel case in paths. The previous endpoint is deprecated and will be removed in an upcoming release</li>
</ul>
</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/993" target="_blank">#993</a> / <a href="https://github.com/HubSpot/Singularity/pull/1020" target="_blank">#1020</a> Add support for disk resource</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1048" target="_blank">#1048</a> Updated image tags in compose files</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1093" target="_blank">#1093</a> Add downloadUrl field, for explicitly downloading from S3 </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1099" target="_blank">#1099</a> include offer ID in resourceOffers() logging statement</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1110" target="_blank">#1110</a> Add &apos;extraScript&apos; field to UI configuration for extra analytics/etc</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1045" target="_blank">#1045</a> Configurable max metadata message length </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1084" target="_blank">#1084</a> Only show wait for replacement checkbox if a WORKER or a SERVICE </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1134" target="_blank">#1134</a> Rename pubish_gitbook.sh to publish_gitbook.sh </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1118" target="_blank">#1118</a> Always launch docker containers in the correct parent cgroup </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1051" target="_blank">#1051</a> Configurable max attempts for docker pull in custom executor</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1155" target="_blank">#1155</a> Enable use of docker parameters in custom executor script </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1167" target="_blank">#1167</a> Expiring pause deletion responsibility shift  </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1109" target="_blank">#1109</a> Allow resource override to be set on a run now request </li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1088" target="_blank">#1088</a> Avoid race condition in deploy to unpause</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1108" target="_blank">#1108</a> Fix docker compose yaml to get hostname properly</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1083" target="_blank">#1083</a> Remove extraneous console.logs </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1070" target="_blank">#1070</a> Bump to version 0.28.2 to fix MESOS-5449</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1096" target="_blank">#1096</a> Fix filename truncation in sandbox endpoint</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1082" target="_blank">#1082</a> Fix broken shell log link </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1085" target="_blank">#1085</a> Fix table paging </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1145" target="_blank">#1145</a> Fix default hostname in compose yaml </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1067" target="_blank">#1067</a> Bump moment minor version to mitigate CVE-2016-4055</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1069" target="_blank">#1069</a> Concurrent run once tasks </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1081" target="_blank">#1081</a> Handle new lines in docker environment variables correctly </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1090" target="_blank">#1090</a> Fix docker integration environment </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1161" target="_blank">#1161</a> Request - Null Owner fix </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1163" target="_blank">#1163</a> RETRY for scheduled task should keep cmdLineArgs </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1175" target="_blank">#1175</a> Remove requirement of BRIDGE mode to specify port map </li>
</ul>
<hr>
<h2 id="changes-in-080">Changes in <code>0.8.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.8.0+is%3Aclosed" target="_blank">0.8.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/971" target="_blank">#971</a> Ability to update request data upon successful deploy</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1071" target="_blank">#1071</a> Initial support for RFC5545 schedules</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1021" target="_blank">#1021</a> Convert racks and slaves pages to react</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1031" target="_blank">#1031</a> Better request and deploy id validation</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1032" target="_blank">#1032</a> Allow glob matching in addition to fuzzy matching on Requests and Tasks page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1039" target="_blank">#1039</a> UI improvements with global search tool</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1043" target="_blank">#1043</a> Add support for hourly logrotate</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1057" target="_blank">#1057</a> Move back to react-typeahead mainline version instead of HubSpot fork</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1059" target="_blank">#1059</a> Set proper Content-Type and Content-Encoding for s3 uploads</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1060" target="_blank">#1060</a> Setup babel for ES6 and JSX transformation</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1064" target="_blank">#1064</a> Shade guava for SingularityClient</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1073" target="_blank">#1073</a> Build the UI as its own module</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/975" target="_blank">#975</a> Remove cleanup after bounce expire</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1044" target="_blank">#1044</a> Only show task killed in message for healthchecks if not in running state</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1068" target="_blank">#1068</a> Make sure to remove obsolete pending requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1078" target="_blank">#1078</a> Typo: &quot;Settingss&quot; -&gt; &quot;Settings&quot; on the Deploy form</li>
</ul>
<hr>
<h2 id="changes-in-071">Changes in <code>0.7.1</code></h2>
<p>This is a bug fix release.</p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.7.1+is%3Aclosed" target="_blank">0.7.1 milestone</a> to see bugfixes in detail.</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1034" target="_blank">#1034</a> Change package.json &apos;vex&apos; dependency to &apos;vex-js&apos;</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1049" target="_blank">#1049</a> Don&apos;t set shell if arguments list is empty, ability to override shell</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1050" target="_blank">#1050</a> Add polyfills for Object.assign and Promise</li>
</ul>
<hr>
<h2 id="changes-in-070">Changes in <code>0.7.0</code></h2>
<p>This release bumps Singularity&#x2019;s Mesos dependency from version <code>0.23.0</code> to <code>0.28.1</code>. Check out the documentation <a href="http://mesos.apache.org/documentation/latest/upgrades/" target="_blank">on the mesos site</a> for more information about upgrading your mesos cluster to <code>0.28.1</code>.</p>
<p><a href="https://github.com/HubSpot/Singularity/pull/994" target="_blank">#994</a> - Upgrade mesos version to <code>0.28.1</code></p>
<hr>
<h2 id="changes-in-062">Changes in <code>0.6.2</code></h2>
<p>This is a bug fix release.</p>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1078" target="_blank">#1078</a> Typo: &quot;Settingss&quot; -&gt; &quot;Settings&quot; on the Deploy form</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1068" target="_blank">#1068</a> Make sure to remove obsolete pending requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/975" target="_blank">#975</a> Remove cleanup after bounce expire</li>
</ul>
<hr>
<h2 id="changes-in-061">Changes in <code>0.6.1</code></h2>
<p>This is a bug fix release.</p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.7.1+is%3Aclosed" target="_blank">0.7.1 milestone</a> to see bugfixes in detail. (Changes for 0.6.1 are the same as 0.7.1)</p>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1034" target="_blank">#1034</a> Change package.json &apos;vex&apos; dependency to &apos;vex-js&apos;</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1049" target="_blank">#1049</a> Don&apos;t set shell if arguments list is empty, ability to override shell</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1050" target="_blank">#1050</a> Add polyfills for Object.assign and Promise</li>
</ul>
<hr>
<h2 id="changes-in-060">Changes in <code>0.6.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.6.0+is%3Aclosed" target="_blank">0.6.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/879" target="_blank">#879</a> Add ability to post task metadata to a </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/996" target="_blank">#996</a> Webhooks UI</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/916" target="_blank">#916</a> New task checker should respect deploy healthcheck retry settings</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/933" target="_blank">#933</a> <a href="https://github.com/HubSpot/Singularity/pull/979" target="_blank">#979</a> Email, tail logs from bottom of file, find the first error</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/950" target="_blank">#950</a> Allow multiple on demand requests to be queued up</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/955" target="_blank">#955</a> Optional redirect in the UI when receiving a 401 from the api</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/959" target="_blank">#959</a> Add thread checker types</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/974" target="_blank">#974</a> Log tailer rewrite</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/980" target="_blank">#980</a> Add <code>template</code>, <code>domains</code> and <code>additionalRoutes</code> lb fields</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/981" target="_blank">#981</a> <a href="https://github.com/HubSpot/Singularity/pull/988" target="_blank">#988</a> <a href="https://github.com/HubSpot/Singularity/pull/1017" target="_blank">#1017</a>Improvements to task page UI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/985" target="_blank">#985</a> Better failure message when creating a scheduled request with  no schedule</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/995" target="_blank">#995</a> Only suggest an even number accross racks for <code>SERVICE</code> type</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1011" target="_blank">#1011</a> Auto-scroll to bottom of run-now dialog</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1012" target="_blank">#1012</a> Make email colors match UI colors</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1014" target="_blank">#1014</a> Update layout for 4 logs in aggregate tailer</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1015" target="_blank">#1015</a> Show only log name in aggregate tailer title</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1016" target="_blank">#1016</a> Don&apos;t show over/under provisioned on status page if they are 0</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1022" target="_blank">#1022</a> Aggregate tailer tooltip for host and instance number</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1023" target="_blank">#1023</a> Dashboard UI improvements</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1026" target="_blank">#1026</a> Better handling of logs not found in aggregate tailer</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1028" target="_blank">#1028</a> Show <code>TASK_ERROR</code> state as danger in the ui</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1036" target="_blank">#1036</a> Add a defaultPortMapping which exposes all mesos provided ports</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/984" target="_blank">#984</a> Corrected task failure count in deploy failure info</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/990" target="_blank">#990</a> Fix slaves link not filtering tasks properly</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/991" target="_blank">#991</a> Fix missing user being treated as admin</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/996" target="_blank">#996</a> Don&apos;t get attributes from missing deployProgress</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/998" target="_blank">#998</a> Enable buttons on dashboard paused requests toable</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1004" target="_blank">#1004</a> Convert SingularityMailer to an interface to avoid errors with missing smtp config</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1008" target="_blank">#1008</a> Don&apos;t trigger cooldown is <code>TASK_LOST</code> reason is invalid offers</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1024" target="_blank">#1024</a> Don&apos;t show edit reqeust button if hideNewRequestButton is true</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1027" target="_blank">#1027</a> CPU usage bar transitions back to non-error colors</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/1037" target="_blank">#1037</a> Avoid IndexOutOfBounds error when scaling down during a deploy</li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/1005" target="_blank">#1005</a> Fix configuration documentation</li>
</ul>
<hr>
<h2 id="changes-in-050">Changes in <code>0.5.0</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.5.0+is%3Aclosed" target="_blank">0.5.0 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<p><a href="https://github.com/HubSpot/Singularity/pull/839" target="_blank">#839</a> enables better task history searching via the Singularity UI and API. (Also <a href="https://github.com/HubSpot/Singularity/pull/890" target="_blank">#890</a>, <a href="https://github.com/HubSpot/Singularity/pull/932" target="_blank">#932</a>, <a href="https://github.com/HubSpot/Singularity/pull/935" target="_blank">#935</a>)</p>
<h4 id="task-search">Task Search</h4>
<p>As of <code>0.5.0</code>, Singularity has better support for searching historical tasks. A global task search endpoint was added:</p>
<p><code>/api/history/tasks</code> -&gt; Retrieve the history sorted by startedAt for all inactive tasks.</p>
<p>The above endpoint as well as <code>/api/history/request/{requestId}/tasks</code> now take additonal query parameters:</p>
<ul>
<li><code>requestId</code>: Optional request id to match (only for <code>/api/history/tasks</code> endpoint as it is already specified in the path for <code>/request/{requestId}/tasks</code>)</li>
<li><code>deployId</code>: Optional deploy id to match</li>
<li><code>host</code>: Optional host (slave host name) to match</li>
<li><code>lastTaskStatus</code>: Optional <a href="../reference/api-docs/models#model-ExtendedTaskState"><code>ExtendedTaskState</code></a> to match</li>
<li><code>startedAfter</code>: Optionally match only tasks started after this time (13 digit unix timestamp)</li>
<li><code>startedBefore</code>: Optionally match only tasks started before this time (13 digit unix timestamp)</li>
<li><code>orderDirection</code>: Sort direction (by <code>startedAt</code>), can be ASC or DESC, defaults to DESC (newest tasks first)</li>
<li><code>count</code>: Maximum number of items to return, defaults to 100 and has a maximum value of 1000</li>
<li><code>page</code>: Page of items to view (e.g. page 1 is the first <code>count</code> items, page 2 is the next <code>count</code> items), defaults to 1</li>
</ul>
<p>For clusters using mysql that have a large number of tasks in the history, a relevant  configuration option of <code>taskHistoryQueryUsesZkFirst</code> has been added in the base Singularity Configuration. This option can be used to either prefer efficiency or exact ordering when searching through task history, it defaults to <code>false</code>.</p>
<ul>
<li><p>When <code>false</code> the setting will prefer correct ordering. This may require multiple database calls, since Singularity needs to determine the overall order of items base on persisted (in mysql) and non-persisted (still in zookeeper) tasks. The overall search may be less efficient, but the ordering is guranteed to be correct.</p>
</li>
<li><p>When <code>true</code> the setting will prefer efficiency. In this case, it will be assumed that all task histories in zookeeper (not yet persisted) come before those in mysql (persisted). This results in faster results and fewer queries, but ordering is not guaranteed to be correct between persisted and non-persisted items.</p>
</li>
</ul>
<h4 id="task-search-db-migration">Task Search DB Migration</h4>
<p>Before deploying task search (release 0.4.12) it is neccessary to run liquibase migrations <code>10</code> and <code>11</code>. This migration adds the neccessary columns and indexes, and backfills data for those new columns in the taskHistory table so that searching can be done efficiently and on more fields. If you have a large number of tasks in your database (e.g. more than 100k) , it is possible that these migrations could be very slow when run via liquibase. If this is a concern, we recommend using <a href="https://www.percona.com/doc/percona-toolkit/2.1/pt-online-schema-change.html" target="_blank">pt-online-schema-change</a> to run your migration.</p>
<p>In order to run your migration with <code>pt-online-schema-change</code>, the following command is equal to liquibase migration <code>10</code>.</p>
<pre><code>pt-online-schema-change \
  --user=(your db user) \
  --ask-pass \
  --alter &quot;ADD KEY startedAt2 (startedAt, requestId), ADD COLUMN host VARCHAR(100) CHARACTER SET ASCII NULL,  ADD COLUMN startedAt TIMESTAMP NULL, DROP KEY deployId, ADD KEY startedAt (requestId, startedAt), ADD KEY lastTaskStatus (requestId, lastTaskStatus, startedAt), ADD KEY deployId (requestId, deployId, startedAt), ADD KEY host (requestId, host, startedAt)&quot; \
  --execute \
  D=(your database name),t=taskHistory
</code></pre><p>This will complete liquibase migration <code>10</code>. In order to get the liquibase table in order, you can run a command of <code>db fast-forward</code> which will create the entry in the migrations table for the next migration to run. So, if you previously ran migration <code>9</code>, it will only create migration <code>10</code>.</p>
<pre><code>java -jar SingularityService/target/SingularityService-<VERSON>.jar db fast-forward ./config.yaml --migrations migrations.sql
</VERSON></code></pre><p>The update statements to backfill the newly added columns can also possibly be slow when you have a large number of tasks (e.g. more than 100k) in your history. There are a few options you can use to help this migration run more smoothly:</p>
<ul>
<li>Add an additional <code>ADD KEY host2 (host)</code> to the end of the <code>--alter</code> statement before running the pt-online-schema-change above. This index is not neccessary for search, but will allow the <code>host</code> field backfill to run much quicker</li>
<li>Run each of the update statements in a loop with an additional <code>LIMIT XXXX</code> added, where <code>XXXX</code> is some number (for example 5000). This way you are not trying to update the entire table in a single query (which would lock the table until the query was done), but are updating it in chunks. You can continue running this loop until the migrations are done.</li>
</ul>
<p>If you ran the update for migration <code>11</code> manually, you can run the <code>db fast-forward</code> command from above again in order to update the migrations table for liquibase.</p>
<p>As a last note, if there is a gap of time between running these migrations and deploying the new version of Singularity, it is wise to run the backfill queries manually an additional time. If any tasks have persisted to the database between the intial migration run and the time of deploying the new Singularity version, those tasks will not have the <code>host</code> and <code>startedAt</code> columns filled in.</p>
<p><a href="https://github.com/HubSpot/Singularity/pull/817" target="_blank">#817</a> enables incremental deploys. This allows the user to deploy any portion of instances at a time, and either pause for a pre-determined time, or wait for a manual signal to start deploying the next portion of instances.</p>
<h3 id="incremental-deploys">Incremental Deploys</h3>
<p>As of <code>0.5.0</code> Singularity supports an incremental deploy for finer-grained control when rolling out new changes. This deploy is enabled via a few extra fields on the <code>SingularityDeploy</code> object when starting a deploy:</p>
<ul>
<li><code>deployInstanceCountPerStep</code>: Deploy this many instances at a time until the total instance count for the request is reached is reached (<code>Optional<Integer></Integer></code>, default is all instances at once)</li>
<li><code>deployStepWaitTimeMs</code>: Wait this many milliseconds between deploy steps before continuing to deploy the next <code>deployInstanceCountPerStep</code> instances (<code>Optional<Integer></Integer></code>, default is 0, i.e. continue immediately)</li>
<li><code>autoAdvanceDeploySteps</code>: automatically advance to the next target instance count after <code>deployStepWaitTimeMs</code> seconds (<code>Optional<Boolean></Boolean></code>, defaults to <code>true</code>). If this is <code>false</code>, then manual confirmation will be needed to move to the next target instance count. This can be done via the ui.</li>
</ul>
<h4 id="example">Example</h4>
<p><code>TestService</code> is currently running <code>3</code> instances. During the next deploy, you want to replace only <code>1</code> of these instances at a time and have Singularity wait at least a minute after deploying one so you can verify that everything works as expected. The following fields can be added to the deploy json to accomplish this:</p>
<pre><code>deployInstanceCountPerStep: 1
deployStepWaitTimeMs: 60000
autoAdvanceDeploySteps: true
</code></pre><p>When the deploy starts, Singularity will start <code>1</code> (<code>deployInstanceCountPerStep</code>) instance from the new deploy (The <code>3</code> old instances will still be running). Once the new task is determined to be healthy a few things happen:</p>
<ul>
<li>Singularity will add the instance from the new deploy to the load balancer (if applicable)</li>
<li>Singularity will shut down <code>1</code> (<code>deployInstanceCountPerStep</code>) of the instances from the old deploy after removing it from the load balancer (if applicable)</li>
<li>Singularity will start counting down the <code>60000 ms</code> until it launches the next <code>deployInstanceCountPerStep</code> instances</li>
</ul>
<p>Once the <code>deployStepWaitTimeMs</code> of wait time has elapsed, Singularity will start this process again, launching a second task for the new deploy, waiting until it is healthy, then shutting down a task from the old deploy. This will continue until the deploy fails, the deploy is cancelled, or all instances are part of the new deploy and it succeeds.</p>
<p>A few more things to note about the incremental deploy process:</p>
<ul>
<li>If the deploy fails or is cancelled, Singularity replaces any missing instances from the old deploy and makes sure they are healthy before shutting down active/healthy instances from the new deploy. (i.e. you will never be under capacity)</li>
<li>At any time, it is possible to advance the deploy to another target instance count via the UI or API. In other words, you can skip the remaining <code>deployStepWaitTimeMs</code>, skip steps of the deploy, or even decrease the instance count to roll back a step.</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/885" target="_blank">#885</a> Allow destination targets to be specified</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/891" target="_blank">#891</a> Use pushState for log line links</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/892" target="_blank">#892</a> Cut down on amount of task data stored in ZK</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/893" target="_blank">#893</a> Better deploy failure information</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/894" target="_blank">#894</a> Task kill checkbox label</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/906" target="_blank">#906</a> Suggest an even number accross racks for rackSensitive requests (Also, <a href="https://github.com/HubSpot/Singularity/pull/949" target="_blank">#949</a>)</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/910" target="_blank">#910</a> Basic framework auth</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/921" target="_blank">#912</a> Upgrade basepom version</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/923" target="_blank">#923</a> Goodbye brunch, hello gulp</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/925" target="_blank">#925</a> Get memory info from deploy object instead of mesos task resources</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/934" target="_blank">#934</a> Don&apos;t display healthcheck message for tasks in state TASK_LOST or TASK_FINISHED </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/936" target="_blank">#936</a> Add ability to search through tasks table by request type </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/937" target="_blank">#937</a> Refactor HistoricalTasks Collections into One </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/938" target="_blank">#938</a> Fix Duplicates in Fuzzy Search </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/939" target="_blank">#939</a> Add mailhog to compose-dev</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/943" target="_blank">#943</a> Don&apos;t capture ctrl+t</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/944" target="_blank">#944</a> More descriptive error message on http 200 with no json</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/951" target="_blank">#951</a> After submitting or editing a request, redirect to that request&apos;s page </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/964" target="_blank">#964</a> Bump to latest horizon version</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/965" target="_blank">#965</a> Warning if singularity has no leader or leader has no mesos connection </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/966" target="_blank">#966</a> More consistent terminology and deploy failure on task page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/968" target="_blank">#968</a> Better Slave Decommissioned / Offline Communication </li>
<li><a href="https://github.com/HubSpot/Singularity/pull/969" target="_blank">#969</a> Add extra command line args to task finished email</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/970" target="_blank">#970</a> Task badge color for TASK_KILLED is now default (grey)</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/977" target="_blank">#977</a> Run now dialog improvements</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/902" target="_blank">#902</a> Fix time display in emails</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/903" target="_blank">#903</a> Ensure run once tasks don&apos;t get launched at startup</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/913" target="_blank">#913</a> Don&apos;t display healthcheck notification if task state is failed</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/914" target="_blank">#914</a> Include docker exception cause in thread checker</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/927" target="_blank">#927</a> Missing an early return for numPorts == 0</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/930" target="_blank">#930</a> Remove min-height from fileBrowserSubview</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/952" target="_blank">#952</a> Don&apos;t Lose Currently Typed Owner/Rack Affinity When Losing Focus</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/957" target="_blank">#957</a> Deploy to unpause should also remove any expiring pause</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/962" target="_blank">#962</a> Multiple ui fixes</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/963" target="_blank">#963</a> Also set shell false if pending task cmdLineArgs are set </li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/919" target="_blank">#919</a> Update config docs for recently added fields</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/922" target="_blank">#922</a> Add docs on request and deploy concepts</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/941" target="_blank">#940</a> Use gitbook for docs</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/958" target="_blank">#958</a> Generate swagger json alongside docs </li>
</ul>
<hr>
<h2 id="changes-in-0411">Changes in <code>0.4.11</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.4.11+is%3Aclosed" target="_blank">0.4.11 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/915" target="_blank">#915</a> Add mailhog to integration test environment</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/908" target="_blank">#908</a> Better sorting with fuzzy search</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/907" target="_blank">#907</a> Make SingularityExecutor handle docker volumes when hostPath is absent</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/900" target="_blank">#900</a> Store status update reason field in SingularityTaskHistoryUpdate</li>
</ul>
<hr>
<h2 id="changes-in-0410">Changes in <code>0.4.10</code></h2>
<p><strong><em>BUG</em></strong>
The UI build for this release is known to only contain partial css. Please use the <a href="https://github.com/HubSpot/Singularity/releases/tag/Singularity-0.4.11" target="_blank">0.4.11 release</a> instead</p>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.4.10+is%3Aclosed" target="_blank">0.4.10 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/887" target="_blank">#887</a> - Allow deploy to specify a port index for healthchecks and LB api. See <a href="../features/custom-ports.html">custom ports</a> for more details.</li>
</ul>
<h3 id="improvements">improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/854" target="_blank">#854</a> - Add methods to client for unpause and scale requests</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/856" target="_blank">#856</a> - Upgrade Horizon</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/866" target="_blank">#866</a> - Add a default bounce expiration</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/871" target="_blank">#871</a> - Add support for override defaults file</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/875" target="_blank">#875</a> - Fix unpause button for expiring pause in UI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/881" target="_blank">#881</a> - Logrotate and S3 upload tweaks</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/884" target="_blank">#884</a> - Include shell command name in log filename</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/889" target="_blank">#889</a> - Add support for max numbers of objects in ZK when no database is configured</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/901" target="_blank">#901</a> - Lock brunch to version 2.2.x</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/708" target="_blank">#788</a> - Fix router base path when hosted at /</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/826" target="_blank">#826</a> - Tweak how ulimit is called</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/857" target="_blank">#857</a> - Consider LB when deciding to remove something during bounce</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/860" target="_blank">#860</a> - Fix the sorting in the wrong order bug</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/864" target="_blank">#864</a> - Cancel futures in thread, avoiding docker deadlocks on cleanup</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/865" target="_blank">#865</a> - Better handling of Docker timeouts</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/904" target="_blank">#904</a> - Deploy and edit buttons need to be link elements, not button elements</li>
</ul>
<hr>
<h2 id="changes-in-049">Changes in <code>0.4.9</code></h2>
<h3 id="renamed-endpoints">Renamed endpoints</h3>
<p>This endpoint was renamed:</p>
<ul>
<li><code>/requests/request/{requestId}/instances</code> --&gt; <code>/requests/request/{requestId}/scale</code></li>
</ul>
<p>These endpoints were renamed to fix a typo in the URL:</p>
<ul>
<li><code>/racks/rack/{rackId}/decomission</code> --&gt; <code>/racks/rack/{rackId}/decommission</code></li>
<li><code>/slaves/slave/{rackId}/decomission</code> --&gt; <code>/slaves/slave/{rackId}/decommission</code></li>
</ul>
<h3 id="expiring-actions">Expiring Actions</h3>
<p>Released in <code>0.4.9</code></p>
<h3 id="action-expiration--additional-action-metadata">Action expiration + additional action metadata</h3>
<p>Some actions in Singularity now have the concept of expiration (as in, giving up after a certain period of time). Corresponding endpoints have been updated to accept more information about action expiration and action metadata.</p>
<h4 id="rack-and-slave-operations">Rack and slave operations</h4>
<ul>
<li><code>/racks/rack/{rackId}/decommission</code></li>
<li><code>/racks/rack/{rackId}/freeze</code></li>
<li><code>/racks/rack/{rackId}/activate</code></li>
<li><code>/slaves/slave/{slaveId}/decommission</code></li>
<li><code>/slaves/slave/{slaveId}/freeze</code></li>
<li><code>/slaves/slave/{slaveId}/activate</code></li>
</ul>
<p>These URLs accept a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
</tbody>
</table>
<h4 id="request-bounce">Request bounce</h4>
<ul>
<li><code>/requests/request/{requestId}/bounce</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>skipHealthchecks</td>
<td>boolean</td>
<td>optional</td>
<td>Instruct replacement tasks for this bounce only to skip healthchecks</td>
</tr>
<tr>
<td>durationMillis</td>
<td>long</td>
<td>optional</td>
<td>The number of milliseconds to wait before reversing the effects of this action (letting it expire)</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
<tr>
<td>incremental</td>
<td>boolean</td>
<td>optional</td>
<td>If present and set to true, old tasks will be killed as soon as replacement tasks are available, instead of waiting for all replacement tasks to be healthy</td>
</tr>
</tbody>
</table>
<h4 id="scheduling-a-request-to-run-immediately">Scheduling a request to run immediately</h4>
<ul>
<li><code>/requests/request/{requestId}/run</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>runId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this request which will be associated with the corresponding launched tasks</td>
</tr>
<tr>
<td>skipHealthchecks</td>
<td>boolean</td>
<td>optional</td>
<td>If set to true, healthchecks will be skipped for this task run</td>
</tr>
<tr>
<td>commandLineArgs</td>
<td>Array[string]</td>
<td>optional</td>
<td>Command line arguments to be passed to the task</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
</tbody>
</table>
<h4 id="unpausing-a-request">Unpausing a request</h4>
<ul>
<li><code>/requests/request/{requestId}/unpause</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>skipHealthchecks</td>
<td>boolean</td>
<td>optional</td>
<td>If set to true, instructs new tasks that are scheduled immediately while unpausing to skip healthchecks</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
</tbody>
</table>
<h4 id="exit-request-cooldown">Exit request cooldown</h4>
<ul>
<li><code>/requests/request/{requestId}/exit-cooldown</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>skipHealthchecks</td>
<td>boolean</td>
<td>optional</td>
<td>Instruct new tasks that are scheduled immediately while executing cooldown to skip healthchecks</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
</tbody>
</table>
<h4 id="deleting-a-request">Deleting a request</h4>
<ul>
<li><code>/requests/request/{requestId}</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
</tbody>
</table>
<h4 id="killing-a-task">Killing a task</h4>
<ul>
<li><code>/tasks/task/{taskId}</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>waitForReplacementTask</td>
<td>boolean</td>
<td>optional</td>
<td>If set to true, treats this task kill as a bounce - launching another task and waiting for it to become healthy</td>
</tr>
<tr>
<td>override</td>
<td>boolean</td>
<td>optional</td>
<td>If set to true, instructs the executor to attempt to immediately kill the task, rather than waiting gracefully</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
</tbody>
</table>
<h4 id="scaling-requests">Scaling requests</h4>
<ul>
<li><code>/requests/request/{requestId}/scale</code> (previously <code>/requests/request/{requestId}/instances</code>)</li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>skipHealthchecks</td>
<td>boolean</td>
<td>optional</td>
<td>If set to true, healthchecks will be skipped while scaling this request (only)</td>
</tr>
<tr>
<td>durationMillis</td>
<td>long</td>
<td>optional</td>
<td>The number of milliseconds to wait before reversing the effects of this action (letting it expire)</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
<tr>
<td>instances</td>
<td>int</td>
<td>optional</td>
<td>The number of instances to scale to</td>
</tr>
</tbody>
</table>
<h4 id="pausing-a-request">Pausing a request</h4>
<ul>
<li><code>/requests/request/{requestId}/pause</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>durationMillis</td>
<td>long</td>
<td>optional</td>
<td>The number of milliseconds to wait before reversing the effects of this action (letting it expire)</td>
</tr>
<tr>
<td>killTasks</td>
<td>boolean</td>
<td>optional</td>
<td>If set to false, tasks will be allowed to finish instead of killed immediately</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
</tbody>
</table>
<p><strong>NOTE:</strong> The <code>user</code> field has been removed from this object.</p>
<h4 id="disabling-request-healthchecks">Disabling request healthchecks</h4>
<ul>
<li><code>/requests/request/{requestId}/skip-healthchecks</code></li>
</ul>
<p>This URL accepts a JSON object with this format:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>skipHealthchecks</td>
<td>boolean</td>
<td>optional</td>
<td>If set to true, healthchecks will be skipped for all tasks for this request until reversed</td>
</tr>
<tr>
<td>durationMillis</td>
<td>long</td>
<td>optional</td>
<td>The number of milliseconds to wait before reversing the effects of this action (letting it expire)</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>optional</td>
<td>A message to show to users about why this action was taken</td>
</tr>
<tr>
<td>actionId</td>
<td>string</td>
<td>optional</td>
<td>An id to associate with this action for metadata purposes</td>
</tr>
</tbody>
</table>
<h3 id="new-endpoints-for-cancelling-actions">New endpoints for cancelling actions</h3>
<p>These endpoints were added in order to support cancelling certain actions:</p>
<ul>
<li><code>DELETE /requests/request/{requestId}/scale</code> -- Cancel an expiring scale</li>
<li><code>DELETE /requests/request/{requestId}/skip-healthchecks</code> -- Cancel an expiring skip healthchecks override</li>
<li><code>DELETE /request/{requestId}/pause</code> -- Cancel (unpause) an expiring pause</li>
<li><code>DELETE /request/{requestId}/bounce</code> -- Cancel a bounce</li>
</ul>
<h3 id="other-improvements-and-fixes">Other Improvements and Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/837" target="_blank">#837</a> - Make sure literal host ports are processed correctly</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/842" target="_blank">#842</a> - Task is cleaning default msg fix</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/849" target="_blank">#849</a> - Include message with emails</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/850" target="_blank">#850</a> - Fix unified tailer</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/851" target="_blank">#851</a> - Warning to disable healthchecks for &lt; 1 hour</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/852" target="_blank">#852</a> - Page now automatically refreshes even after invalid duration entered</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/853" target="_blank">#853</a> - File error fix</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/859" target="_blank">#859</a> - Don&apos;t show tasks as overdue instantly</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/863" target="_blank">#863</a> - Don&apos;t show deleted request message if not deleted</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/868" target="_blank">#868</a> - Bump to Brunch 2</li>
</ul>
<hr>
<h2 id="changes-in-048">Changes in <code>0.4.8</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.4.8+is%3Aclosed" target="_blank">0.4.8 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/744" target="_blank">#744</a> - New log tail UI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/774" target="_blank">#774</a> - allow requests to override their email notification settings</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/782" target="_blank">#782</a> - support per-bucket creds for downloading artifacts</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/801" target="_blank">#801</a> - Link each column section</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/805" target="_blank">#805</a> - Change empty task sandbox message depending on current task state</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/806" target="_blank">#806</a> - Add filters on request table for active deploy and no deploy</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/812" target="_blank">#812</a> - Clean tasks on decommissioned hosts</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/813" target="_blank">#813</a> - Get task info by runId</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/815" target="_blank">#815</a> - New fuzzy search algorithm for better results and perf</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/819" target="_blank">#819</a> - better launch msg</li>
<li><p><a href="https://github.com/HubSpot/Singularity/pull/825" target="_blank">#825</a> - surface info about the pending deploy in request detail page</p>
<h3 id="bug-fixes">Bug Fixes</h3>
</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/773" target="_blank">#773</a> - time-box the docker client to avoid ever getting stuck</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/779" target="_blank">#779</a> - Hide log link on task page if the file doesn&apos;t exist</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/821" target="_blank">#821</a> - fix issue with incorrect parsing of task status</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/824" target="_blank">#824</a> - be sure to transfer labels to the task info</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/827" target="_blank">#827</a> - be sure to check deploy health for incremental bounce</li>
</ul>
<hr>
<h2 id="changes-in-047">Changes in <code>0.4.7</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.4.7+is%3Aclosed" target="_blank">0.4.7 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="fixed">Fixed</h3>
<ul>
<li>When the <a href="https://github.com/HubSpot/Singularity/releases/tag/Singularity-0.4.6" target="_blank">0.4.6 release</a> was built, the static assets for the Web UI weren&apos;t properly packaged in the JAR. This is now fixed in 0.4.7.</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/777" target="_blank">#777</a> - Properly sort requests in the Web UI</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/820" target="_blank">#820</a> - Web UI gives blank page after first deploy</li>
</ul>
<hr>
<h2 id="changes-in-046">Changes in <code>0.4.6</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.4.6+is%3Aclosed" target="_blank">0.4.6 milestone</a> to see new features / bugfixes in detail.</p>
<h3 id="new-features">New Features</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/515" target="_blank">Shell commands</a> using the singularity executor. You can read more about the shell commands feature <a href="../features/shell-commands.html">here</a></li>
<li>Introduce an <a href="https://github.com/HubSpot/Singularity/pull/767" target="_blank">incremental bounce</a>. An incremental bounce will kill old tasks as new tasks become healthy instead of witing for all new tasks to be healthy before shutting down old tasks. This is especially useful when running services with many instances on a lean cluster. The option is available in the ui when asking to bounce, or by adding a query param of <code>incremental=true</code> to your <code>POST</code> request to the <code>/request/{requestId}/bounce</code> endpoint.</li>
</ul>
<h3 id="improvements">Improvements</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/635" target="_blank">#635</a> - Truncate beginning of S3 log filenames</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/690" target="_blank">#690</a> - improve ui uncaught error message</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/705" target="_blank">#705</a> - allow for custom switch user commands in SingularityExecutor</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/694" target="_blank">#694</a> - Remove paused requests from LB</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/708" target="_blank">#708</a> - Show extra cmd line arguments and allow rerunning of tasks</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/713" target="_blank">#713</a> - Give meaningful titles to all pages</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/719" target="_blank">#719</a> - Add logs section with link to latest</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/721" target="_blank">#721</a> - Task alerts</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/729" target="_blank">#729</a> - Optionally take start and end time query params for S3 log search</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/730" target="_blank">#730</a> - Change checkpoint default to true</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/732" target="_blank">#732</a> - Star requests from the request detail page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/734" target="_blank">#734</a> - Change allocated cpu units to floats in the json object</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/739" target="_blank">#739</a> - Add request and task links to breadcrumbs on tail view</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/745" target="_blank">#745</a> - Only update links instead of rerendering the whole page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/748" target="_blank">#748</a> - Auto-exit s3uploader and s3downloader if no S3 credentials are set</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/749" target="_blank">#749</a> - Custom time formats</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/751" target="_blank">#751</a> - Use dropwizard-guicier 0.7.1.2</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/756" target="_blank">#756</a> - Add support for read-only user groups</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/759" target="_blank">#759</a> - Email tweaks</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/766" target="_blank">#766</a> - Deny a bounce if there aren&apos;t enough resources to complete it</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/771" target="_blank">#771</a> - Expose run-task method in client</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/772" target="_blank">#772</a> - Bake user query params in to authentication system</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/775" target="_blank">#775</a> - If inside a HTTP request, include URL in sentry error</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/783" target="_blank">#783</a> - Tweaks to make grepping a file easier</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/784" target="_blank">#784</a> - Set a default for s3UploaderKeyPattern</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/785" target="_blank">#785</a> - Allow default value for readOnlyGroups</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/786" target="_blank">#786</a> - Add support for default healthcheckMaxRetries and healthcheckMaxTotalTimeoutSeconds values in SingularityConfiguration</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/789" target="_blank">#789</a> - Surface info about bounces in request detail page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/790" target="_blank">#790</a> - Better executor logging</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/792" target="_blank">#792</a> - Skip building web UI via skipSingularityWebUI property</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/794" target="_blank">#794</a> - Show paused requests in dashboard view</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/795" target="_blank">#795</a> - Add option to also bounce when scaling</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/796" target="_blank">#796</a> - Make files table in task view sortable</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/802" target="_blank">#802</a> - Expose killed task records</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/803" target="_blank">#803</a> - Watch reset and check active tasks manually</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/809" target="_blank">#809</a> - Add link to finished service.log to failed healthcheck notification</li>
</ul>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li><a href="https://github.com/HubSpot/Singularity/pull/682" target="_blank">#682</a> - Configuring the Network field should not be predicated on having port mappings configured</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/717" target="_blank">#717</a> - Fix thread checker, case where docker container has already stopped</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/722" target="_blank">#722</a> - Fix tooltip positioning on edit request page</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/735" target="_blank">#735</a> - Make sure tasks are in ZK</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/743" target="_blank">#743</a> - Thread pool of 1 if prefixes is 0, avoid IllegalArgument</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/761" target="_blank">#761</a> - Fix NPE when check for exception cause</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/763" target="_blank">#763</a> - Don&apos;t throw thread check exceptions if task was already asked to stop</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/780" target="_blank">#780</a> - Stop tailing if scroll to top is clicked</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/791" target="_blank">#791</a> - Fix search input</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/804" target="_blank">#804</a> - Add tasks from /killed to decom badges</li>
<li><a href="https://github.com/HubSpot/Singularity/pull/808" target="_blank">#808</a> - Fixes + tweaks to DECOM badge</li>
</ul>
<h3 id="config-changes">Config Changes</h3>
<ul>
<li><p><a href="https://github.com/HubSpot/Singularity/pull/750" target="_blank">#750</a> - Remove old property-style runnable config code. The <code>.properties</code> configuration format for Singularity slave helpers:</p>
<ul>
<li>SingularityExecutor</li>
<li>SingularityExecutorCleanup</li>
<li>SingularityS3Downloader</li>
<li>SingularityS3Uploader</li>
<li>SingularityOOMKiller</li>
<li>SingularityLogWatcher</li>
</ul>
<p>If you use any of these, please <a href="https://github.com/HubSpot/Singularity/blob/7bbdb4c190292813edc4585a5fb4edb4dcafefe6/Docs/slave_extras.md" target="_blank">convert</a> your configuration to the <code>.yaml</code> style.</p>
</li>
</ul>
<hr>
<h2 id="changes-in-045">Changes in <code>0.4.5</code></h2>
<p>Check out the <a href="https://github.com/HubSpot/Singularity/issues?q=milestone%3A0.4.5+is%3Aclosed" target="_blank">0.4.5 milestone</a> to see new features / bugfixes in detail.</p>
<ul>
<li>Singularity 0.4.5 bumps its Mesos dependency from 0.21.0 to 0.23.0. <a href="https://github.com/HubSpot/Singularity/pull/657" target="_blank">#657</a></li>
<li>If upgrading from a version prior to 0.4.4, you will need to run database migrations. Refer to <a href="../reference/database.html#schema-changes">the database docs</a> for how to run migrations before starting the new version of Singularity.</li>
</ul>
<h3 id="deprecated">Deprecated</h3>
<ul>
<li><p>The <code>.properties</code> configuration format for Singularity slave helpers:</p>
<ul>
<li>SingularityExecutor</li>
<li>SingularityExecutorCleanup</li>
<li>SingularityS3Downloader</li>
<li>SingularityS3Uploader</li>
<li>SingularityOOMKiller</li>
<li>SingularityLogWatcher</li>
</ul>
<p>If you use any of these, please <a href="https://github.com/HubSpot/Singularity/blob/7bbdb4c190292813edc4585a5fb4edb4dcafefe6/Docs/slave_extras.md" target="_blank">convert</a> your configuration to the <code>.yaml</code> style.</p>
<p><em><code>.properties</code> support will be removed completely in 0.4.6.</em></p>
</li>
</ul>
<hr>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../Docs/development/basepom.html" class="navigation navigation-prev " aria-label="Previous page: Basepom"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../Docs/reference/upgrading-to-mesos-1.html" class="navigation navigation-next " aria-label="Next page: Upgrading to Mesos 1.x"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-copy-code-button/toggle.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"github":{"url":"https://github.com/HubSpot/Singularity"},"copy-code-button":{},"search":{"maxIndexSize":1000000},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book Singularity -->
</html>
