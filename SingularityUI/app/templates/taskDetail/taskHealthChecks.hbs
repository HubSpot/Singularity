{{#if synced}}
    {{#if data.task.taskRequest.deploy.healthcheckUri}}
        <div class="page-header">
            <h2>Healthchecks</h2>
        </div>
        {{#ifGT data.healthcheckResults.length 0}}
            <div class="table-container">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Duration</th>
                            <th>Status</th>
                            <th>Response</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each data.healthcheckResults}}
                            <tr>
                                <td>
                                   {{timestampFormatted timestamp}}
                                </td>
                                <td>
                                   {{durationMillis}}{{#if durationMillis}}ms{{/if}}
                                </td>
                                <td>
                                    {{#if statusCode}}
                                        {{#ifEqual statusCode 200}}
                                            <span class="label label-success">HTTP {{statusCode}}</span>
                                        {{else}}
                                            <span class="label label-danger">HTTP {{statusCode}}</span>
                                        {{/ifEqual}}
                                    {{else}}
                                        <span class="label label-warning">No Response</span>
                                    {{/if}}
                                </td>
                                <td> 
                                    {{#if errorMessage}}{{errorMessage}}{{else}}{{responseBody}}{{/if}}
                                </td>
                                <td class="actions-column">
                                    <a data-index="{{@index}}" data-key="healthcheckResults" data-action="viewJsonProperty" title="JSON">
                                        { }
                                    </a>
                                </td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        {{else}}
            <div class="empty-table-message">
                No Healthchecks
            </div>
        {{/ifGT}}
        {{#if data.task.taskRequest.deploy.skipHealthChecksOnDeploy }}
            <div class="empty-table-message">
                Healthchecks are disabled for this deploy
            </div>
        {{/if}}
    {{/if}}
{{else}}
    <div class="page-loader centered cushy"></div>
{{/if}}
